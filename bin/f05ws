#!/usr/bin/env python3

import sys
import os
from fog05.svcs.fog05ws import Server
import tempfile


if __name__ == '__main__':
    port = 9669
    if len(sys.argv) > 1:
        if sys.argv[1] == '--help' or sys.argv[1] == '-h' or sys.argv[1] == 'help':
            print('\nUSAGE:\n\tf05ws [port=9669]\n')
            exit(0)
        else:
            port = int(sys.argv)

    pid = os.getpid()
    path = os.path.join(tempfile.gettempdir(), 'server.out')
    with open(path, 'w') as f:
        f.write(str(pid))
        f.close()

    s = Server(port)
    s.start()